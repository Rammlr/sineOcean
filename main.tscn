[gd_scene load_steps=10 format=3 uid="uid://b5byht40vdiyi"]

[ext_resource type="Shader" uid="uid://dd2fomdwg3j1r" path="res://shaders/handmade_sine_water.gdshader" id="1_ig7tw"]
[ext_resource type="Shader" uid="uid://whgiibewes4l" path="res://shaders/show_normals.gdshader" id="2_0xm2m"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ig7tw"]
sky_top_color = Color(0.352107, 0.611909, 0.995302, 1)
sky_horizon_color = Color(0.903671, 0.630218, 0.507713, 1)
ground_bottom_color = Color(0.12549, 0.12549, 0.12549, 1)
ground_horizon_color = Color(0.457148, 0.467192, 0.483048, 1)

[sub_resource type="Sky" id="Sky_0xm2m"]
sky_material = SubResource("ProceduralSkyMaterial_ig7tw")

[sub_resource type="Environment" id="Environment_h2yge"]
background_mode = 2
sky = SubResource("Sky_0xm2m")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0xm2m"]
render_priority = 0
shader = ExtResource("1_ig7tw")
shader_parameter/amplitude = 0.2
shader_parameter/frequency = 1.63
shader_parameter/speed = 1.755
shader_parameter/amplitude_multiplier = 0.7
shader_parameter/frequency_multiplier = 1.15
shader_parameter/wave_count = 32

[sub_resource type="PlaneMesh" id="PlaneMesh_h2yge"]
material = SubResource("ShaderMaterial_0xm2m")
size = Vector2(30, 30)
subdivide_width = 200
subdivide_depth = 200

[sub_resource type="ShaderMaterial" id="ShaderMaterial_h2yge"]
render_priority = 0
shader = ExtResource("2_0xm2m")

[sub_resource type="TorusMesh" id="TorusMesh_1bvp3"]
material = SubResource("ShaderMaterial_h2yge")

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h2yge")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.420682, 0.859594, -0.290044, -0.86256, 0.478048, 0.165713, 0.281101, 0.180468, 0.942557, 0, 1.78414, -0.452582)
shadow_enabled = true
shadow_transmittance_bias = 16.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-0.977046, -0.0442915, 0.208375, 0, 0.978148, 0.207912, -0.21303, 0.203139, -0.955695, 0.715, 1, -4.238)

[node name="Water" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_h2yge")

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.55957, 0)

[node name="NormalTester" type="MeshInstance3D" parent="."]
transform = Transform3D(2.615, 0, 0, 0, 2.615, 0, 0, 0, 2.615, 0, 2.1318, 0)
visible = false
mesh = SubResource("TorusMesh_1bvp3")
